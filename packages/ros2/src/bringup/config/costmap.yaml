/costmap/costmap:
  ros__parameters:
    global_frame: odom
    robot_base_frame: base_link
    update_frequency: 10.0
    publish_frequency: 5.0
    resolution: 0.05
    rolling_window: true
    width: 100
    height: 100

    plugins: ["stvl_layer", "inflation_layer"]

    stvl_layer:
      plugin: "spatio_temporal_voxel_layer/SpatioTemporalVoxelLayer"
      enabled: true
      voxel_decay: 1.0
      decay_model: 0
      voxel_size: 0.05
      track_unknown_space: true
      unknown_threshold: 15
      mark_threshold: 0
      update_footprint_enabled: true
      combination_method: 1
      origin_z: 0.0
      publish_voxel_map: true
      transform_tolerance: 1.0
      mapping_mode: false
      observation_sources: pointcloud

      pointcloud:
        topic: "/livox/lidar_pc2"
        sensor_frame: "livox_frame"
        observation_persistence: 0.0
        expected_update_rate: 0.0
        data_type: "PointCloud2"
        transport_type: "raw"
        min_obstacle_height: 0.30
        max_obstacle_height: 2.0
        inf_is_valid: false
        marking: true
        clearing: true
        obstacle_range: 50.0
        filter: "voxel"
        voxel_min_points: 1
        clear_after_reading: true
        max_z: 2.0
        min_z: 0.05
        vertical_fov_angle: 3.14159
        horizontal_fov_angle: 0.0
        decay_acceleration: 15.0
      
      front_left_seg:
        topic: "/front_left/seg_pc2"
        sensor_frame: "front_left"
        observation_persistence: 0.0
        expected_update_rate: 0.0
        data_type: "PointCloud2"
        transport_type: "raw"
        inf_is_valid: false
        marking: true
        clearing: true
        obstacle_range: 50.0
        filter: "voxel"
        voxel_min_points: 1
        clear_after_reading: true
        vertical_fov_angle: 3.14159
        horizontal_fov_angle: 0.0
        decay_acceleration: 15.0

      front_right_seg:
        topic: "/front_right/seg_pc2"
        sensor_frame: "front_right"
        observation_persistence: 0.0
        expected_update_rate: 0.0
        data_type: "PointCloud2"
        transport_type: "raw"
        inf_is_valid: false
        marking: true
        clearing: true
        obstacle_range: 50.0
        filter: "voxel"
        voxel_min_points: 1
        clear_after_reading: true
        vertical_fov_angle: 3.14159
        horizontal_fov_angle: 0.0
        decay_acceleration: 15.0

    inflation_layer:
      plugin: "nav2_costmap_2d::InflationLayer"
      inflation_radius: 0.25
      cost_scaling_factor: 3.0

/costmap/lifecycle_manager:
  ros__parameters:
    autostart: true
    use_sim_time: false
    bond_timeout: 10.0
    node_names:
      - /costmap/costmap

