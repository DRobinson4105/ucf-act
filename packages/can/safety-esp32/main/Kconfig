menu "Test Bypasses"

    config BYPASS_PLANNER_HEARTBEAT
        bool "Bypass Planner heartbeat check"
        default n
        help
            Treat the Planner (Jetson) as always alive. Prevents
            NODE_FAULT_ESTOP_PLANNER_TIMEOUT when testing Safety
            without a Planner on the CAN bus.

    config BYPASS_CONTROL_HEARTBEAT
        bool "Bypass Control heartbeat check"
        default n
        help
            Treat the Control ESP32 as always alive. Prevents
            NODE_FAULT_ESTOP_CONTROL_TIMEOUT when testing Safety
            without a Control ESP32 on the CAN bus.

    config BYPASS_PUSH_BUTTON
        bool "Bypass push button e-stop (HB2-ES544)"
        default n
        help
            Force the push button e-stop to always read as inactive
            (not pressed). Use when the HB2-ES544 is not connected
            during bench testing.

    config BYPASS_RF_REMOTE
        bool "Bypass RF remote e-stop (EV1527)"
        default n
        help
            Force the RF remote e-stop to always read as inactive
            (not engaged). Use when the EV1527 RF remote receiver
            is not connected during bench testing.

    config BYPASS_ULTRASONIC
        bool "Bypass ultrasonic sensor (A02YYUW)"
        default n
        help
            Force the ultrasonic sensor to always read as clear
            (no obstacle) and healthy. Use when the A02YYUW sensor
            is not connected during bench testing. Without this
            bypass, a disconnected sensor triggers estop_ultrasonic
            due to the fail-safe health check.

endmenu

menu "Debug Logging"

    config LOG_HEARTBEAT_TX
        bool "Log periodic heartbeat TX"
        default n
        help
            Log every periodic heartbeat transmission (100ms interval).
            Very verbose. Useful for confirming CAN TX is working.
            State-change heartbeats are always logged regardless.

    config LOG_HEARTBEAT_RX
        bool "Log every heartbeat RX"
        default n
        help
            Log every received Planner and Control heartbeat, not just
            state changes. Very verbose. Useful for confirming CAN RX
            is working and checking sequence numbers.

    config LOG_ESTOP_INPUTS
        bool "Log e-stop input readings each cycle"
        default n
        help
            Log all e-stop input readings (button, remote, ultrasonic,
            planner, control) every safety loop iteration (50ms).
            Extremely verbose. Useful for debugging sensor wiring.

    config LOG_STATE_MACHINE
        bool "Log state machine evaluation each cycle"
        default n
        help
            Log the system state machine inputs and result every
            safety loop iteration. Verbose. Useful for debugging
            state advancement issues.

    config LOG_CAN_RECOVERY
        bool "Log CAN recovery attempts"
        default y
        help
            Log CAN bus health checks and recovery attempts.
            Enabled by default since recovery events are rare
            and important for diagnostics.

endmenu
