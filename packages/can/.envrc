# direnv configuration â€” automatically loads ESP-IDF environment
# when you cd into this directory.
#
# First-time setup:
#   cp .env.example .env   # then edit IDF_PATH
#   direnv allow

# Load developer-specific variables from .env
dotenv_if_exists

if [ -z "$IDF_PATH" ]; then
    log_error "IDF_PATH is not set. Copy .env.example to .env and set your ESP-IDF path."
    return
fi

if [ ! -f "$IDF_PATH/export.sh" ]; then
    log_error "IDF_PATH=$IDF_PATH does not contain export.sh. Check your .env file."
    return
fi

# Source ESP-IDF toolchain into the environment
source_env "$IDF_PATH/export.sh"
